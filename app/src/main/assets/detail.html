<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <script src="jquery-1.7.2.min.js" type="text/javascript"></script>


    <script type="text/javascript">
    var c=false;
    var t;
    var $trs="最新接口实时数据显示";

    function timedCount(){

           if(!c){
                c=true;
                $("#filelist").val($trs);
                getapidata();
           }

           t=setTimeout("timedCount()",1000);

  }

     function stopCount(){
            clearTimeout(t);
     }

    function getapidata(){

           $.getJSON('getmockrealdata', function(data) {
              if(data.length>0){
                $trs= "接口名称："+data[0].url+"\n时间："+ new Date(data[0].time).toLocaleString()+ "\n接口参数："+ data[0].requestParam+ "\n接口数据："+ data[0].data;
                 c=false;
               }
           });

     }

    </script>
    <head>
<body background="https://ss0.bdstatic.com/94oJfD_bAAcT8t7mm9GUKT-xh_/timg?image&quality=100&size=b4000_4000&sec=1520576071&di=69251842241518b8cb1a6c4ff3a1ebd3&src=http://tupian.enterdesk.com/2012/0608/gha/7/8.jpg">

<div style="width:100%;overflow:hidden;">
    <h2 style="background-color: #4682B4;color:white;padding:10px 20px 10px 20px">实时查看JSON</h2>
    <br>

    <button style="width:200px;height:60px" onclick="javascript:timedCount();">启动实时数据查看</button>
    <button style="width:200px;height:60px" onclick="javascript:stopCount();">停止实时数据查看</button>

    <textarea id="filelist" style="width:100%;font-size:12"  rows="12"></textarea>
</div>
</body>
</html>
